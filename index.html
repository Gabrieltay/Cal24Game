<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="user-scalable=no, width=device-width">
		<title>24 Calculator</title>
		<meta name="author", content="" />
		<meta name="description", content="" />
		<!-- CSS -->
		<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
		<link rel="stylesheet" type="text/css" href="css/animate+animo.css" >
		<link rel="stylesheet" type="text/css" href="css/cal24.css" >
		<!-- JS -->
		<script type="text/javascript" src="js/jquery-2.0.3.min.js"></script>
		<script type="text/javascript" src="js/bootstrap.min.js"></script>

		<!-- cordova -->
		<script src="phonegap.js"></script>
		<!-- cordova facebook plugin -->
		<script src="cdv-plugin-fb-connect.js"></script>
		<!-- facebook js sdk -->
		<script src="facebook-js-sdk.js"></script>
		<script type="text/javascript" src="js/facebookconnect.js"></script>
		<script type="text/javascript" src="js/animo.js"></script>
		<script type="text/javascript" src="js/fastclick.js"></script>
		<script>
			window.addEventListener('load', function() {
				new FastClick(document.body);
				getLoginStatus();
			}, false);
			
			window.fbAsyncInit = function() {
				FB.init({
					appId : '775607835795969',
					xfbml : true,
					version : 'v2.0'
				});
			};
			( function(d, s, id) {
					var js, fjs = d.getElementsByTagName(s)[0];
					if (d.getElementById(id)) {
						return;
					}
					js = d.createElement(s);
					js.id = id;
					js.src = "//connect.facebook.net/en_US/sdk.js";
					fjs.parentNode.insertBefore(js, fjs);
				}(document, 'script', 'facebook-jssdk'));
			
			
			var friendIDs = [];
			var fdata;
			function me() {
				FB.api('/me/friends', {
					fields : 'id, name, picture'
				}, function(response) {
					if (response.error) {
						alert(JSON.stringify(response.error));
					} else {
						var data = document.getElementById('data');
						fdata = response.data;
						console.log("fdata: " + fdata);
						response.data.forEach(function(item) {
							var d = document.createElement('div');
							d.innerHTML = "<img src=" + item.picture + "/>" + item.name;
							data.appendChild(d);
						});
					}
					var friends = response.data;
					console.log(friends.length);
					for (var k = 0; k < friends.length && k < 200; k++) {
						var friend = friends[k];
						var index = 1;

						friendIDs[k] = friend.id;
						//friendsInfo[k] = friend;
					}
					console.log("friendId's: " + friendIDs);
				});
			}

			function logout() {
				FB.logout(function(response) {
					alert('logged out');
				});
			}

			function facebookWallPost() {
				console.log('Debug 1');
				var params = {
					method : 'feed',
					name : 'Facebook Dialogs',
					link : 'https://developers.facebook.com/docs/reference/dialogs/',
					picture : 'http://fbrell.com/f8.jpg',
					caption : 'Reference Documentation',
					description : 'Dialogs provide a simple, consistent interface for applications to interface with users.'
				};
				console.log(params);
				FB.ui(params, function(obj) {
					console.log(obj);
				});
			}

			function publishStoryFriend() {
				randNum = Math.floor(Math.random() * friendIDs.length);

				var friendID = friendIDs[randNum];
				if (friendID == undefined) {
					alert('please click the me button to get a list of friends first');
				} else {
					console.log("friend id: " + friendID);
					console.log('Opening a dialog for friendID: ', friendID);
					var params = {
						method : 'feed',
						to : friendID.toString(),
						name : 'Facebook Dialogs',
						link : 'https://developers.facebook.com/docs/reference/dialogs/',
						picture : 'http://fbrell.com/f8.jpg',
						caption : 'Reference Documentation',
						description : 'Dialogs provide a simple, consistent interface for applications to interface with users.'
					};
					FB.ui(params, function(obj) {
						console.log(obj);
					});
				}
			}

		</script>
		<style type="text/css">
			html {
				height: 100%;
				width: 100%;
				overflow: hidden;
				min-width: 100%;
				min-height: 100%;
			}

			body {
				height: 100%;
				width: 100%;
				padding: 0;
				margin: 0;
			}

			.container-fluid {
				height: 100%;
				display: table;
				width: 100%;
				padding: 0;
			}

			.row-fluid {
				height: 100%;
				display: table-cell;
				vertical-align: middle;
			}

			.centering {
				text-align: center;
			}
		</style>
	</head>

	<body>
		<div class="container-fluid vcontainer">
			<div class="row-fluid">
				<div class="row">
					<div class="col-xs-2">
						<span>&nbsp;</span>
					</div>
					<div class="col-xs-8 centering">
						<a href="play.html" class="centering">
						<button id="btn-play" class="btn-main btn btn-default btn-lg">
							Play
						</button></a>
					</div>
					<div class="col-xs-2">
						<span>&nbsp;</span>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-2">
						<span>&nbsp;</span>
					</div>
					<div class="col-xs-8 centering">
						<a href="#" class="centering" onclick="fbLogin();"> <img src="http://3.bp.blogspot.com/-p4JvM7rWNG4/T6ZcU5eKqTI/AAAAAAAACGM/K0DB35A5brE/s1600/facebook.gif">
						<button id="btn-login" class="btn-main btn btn-default btn-lg" >
							Login With Facebook
						</button></a>
					</div>
					<div class="col-xs-2">
						<span>&nbsp;</span>
					</div>
				</div>

			</div>
		</div>
	</body>
</html>
