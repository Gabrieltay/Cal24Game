function fbLogin(){FB.getLoginStatus(function(e){e.error&&alert(JSON.stringify(e.error)),"connected"==e.status?FB.logout(function(){alert("Logged Out Successfully!"),isLogin()}):FB.login(function(e){"connected"==e.status?alert("Logged In Successfully!"):alert("Unable to Log In"),isLogin()},{scope:"public_profile,email,user_friends"})})}function getLoginStatus(){FB.getLoginStatus(function(e){"connected"==e.status&&(fb_login=!0,readScore(),FB.api("/me",{fields:"id, name, picture, email"},function(e){e.error?alert(JSON.stringify(e.error)):(fb_profile=e.picture.data.url,$("#login-btn").html("<img src="+fb_profile+"> Logout"))}))})}function updateScore(e){FB.api("/me/scores","POST",{score:e},function(e){e&&!e.error||alert(JSON.stringify(e.error))})}function readScore(){FB.api("/me/scores",function(e){e&&!e.error?fb_Score=e.data[0].score:alert(JSON.stringify(e.error))})}function isLogin(){FB.getLoginStatus(function(e){"connected"==e.status?(fb_login=!0,$("#login-btn").html("<img src="+fb_profile+"> Logout")):$("#login-btn").html('<i class="fa fa-facebook-square float-left"></i>Log In')})}function getFbScore(){return fb_Score}function getFbLogin(){return fb_login}var fb_Score=0,fb_login=!1,fb_profile="";FB.Event.subscribe("auth.login",function(){}),FB.Event.subscribe("auth.logout",function(){}),FB.Event.subscribe("auth.sessionChange",function(){}),FB.Event.subscribe("auth.statusChange",function(){}),document.addEventListener("deviceready",function(){window.fbAsyncInit=function(){alert("Device is ready! Make sure you set your app_id below this alert."),FB.init({appId:"775607835795969",nativeInterface:CDV.FB,useCachedDialogs:!1}),getLoginStatus()}},!1);